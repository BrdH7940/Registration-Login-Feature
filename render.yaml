services:
    # Backend Service
    - type: web
      name: ia06-backend
      env: node
      plan: free
      buildCommand: cd backend && npm install && npm run build
      startCommand: cd backend && npm run start:prod
      envVars:
          - key: NODE_ENV
            value: production
          - key: PORT
            value: 10000
          - key: MONGODB_CONNECTIONSTRING
            sync: false # Set this in Render dashboard
          - key: FRONTEND_URL
            sync: false # Set this after frontend is deployed

    # Frontend Service
    - type: web
      name: ia06-frontend
      env: static
      buildCommand: cd frontend && npm install && npm run build
      staticPublishPath: frontend/dist
      envVars:
          - key: VITE_API_BASE_URL
            sync: false # Set this to your backend URL after deployment

